<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaigns</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #fcfbf7;
            margin: 0;
            padding: 0;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: #ff5a5f;
            color: white;
            font-size: 26px;
        }

        .nav {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background: #ff5a5f;
        }

        .nav a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            background: #ff7e7e;
            border-radius: 5px;
            font-weight: bold;
        }

        .nav a:hover {
            background: #ff3c4d;
        }

        .section-title {
            text-align: center;
            margin: 30px 0;
            font-size: 30px;
            color: #333;
            font-weight: bold;
        }

        .content {
            text-align: center;
            padding: 20px;
        }

        .content p {
            color: #555;
            font-size: 18px;
            margin-top: 10px;
        }

        .button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background: #ff5a5f;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .button:hover {
            background: #ff3c4d;
        }

        .results {
            margin-top: 20px;
            text-align: left;
            padding: 20px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .results h3 {
            margin-bottom: 10px;
        }

        .results p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="header">Campaigns</div>
    
    <div class="nav">
        <a href="index.html">Home</a>
        <a href="earnings.html">Earnings</a>
        <a href="explore.html">Explore</a>
    </div>

    <div class="section-title">Campaign Management</div>
    <div class="content">
        <p>View and manage all your active campaigns in one place.</p>
        <p>Access details, progress, and results of each campaign seamlessly.</p>

        <a class="button" id="run-matching">Run Matching Algorithm</a>

        <div id="matching-results" class="results" style="display: none;">
            <h3>Matching Results</h3>
            <div id="results-container"></div>
        </div>
    </div>

    <script>
        const influencers = [
            {
                id: 1,
                name: "Influencer A",
                niche: "Fashion",
                engagementRate: 8.5,
                followers: 20000,
                location: "USA"
            },
            {
                id: 2,
                name: "Influencer B",
                niche: "Tech",
                engagementRate: 6.0,
                followers: 15000,
                location: "Canada"
            },
            {
                id: 3,
                name: "Influencer C",
                niche: "Food",
                engagementRate: 9.0,
                followers: 50000,
                location: "USA"
            }
        ];

        const brands = [
            {
                id: 1,
                name: "Brand X",
                targetNiche: "Fashion",
                minFollowers: 10000,
                targetLocation: "USA"
            },
            {
                id: 2,
                name: "Brand Y",
                targetNiche: "Tech",
                minFollowers: 20000,
                targetLocation: "Canada"
            }
        ];

        function matchInfluencersToBrands(influencers, brands) {
            return brands.map((brand) => {
                const matches = influencers
                    .filter((influencer) => 
                        influencer.niche === brand.targetNiche &&
                        influencer.followers >= brand.minFollowers &&
                        influencer.location === brand.targetLocation
                    )
                    .map((influencer) => ({
                        ...influencer,
                        score: influencer.engagementRate
                    }));

                return {
                    brand: brand.name,
                    matches: matches.sort((a, b) => b.score - a.score)
                };
            });
        }

        document.getElementById("run-matching").addEventListener("click", () => {
            const results = matchInfluencersToBrands(influencers, brands);

            const resultsContainer = document.getElementById("results-container");
            resultsContainer.innerHTML = "";

            results.forEach((result) => {
                const brandHeader = document.createElement("h4");
                brandHeader.textContent = `Brand: ${result.brand}`;
                resultsContainer.appendChild(brandHeader);

                if (result.matches.length > 0) {
                    result.matches.forEach((match) => {
                        const matchDetails = document.createElement("p");
                        matchDetails.textContent = `- ${match.name}, Engagement Rate: ${match.engagementRate}%, Followers: ${match.followers}`;
                        resultsContainer.appendChild(matchDetails);
                    });
                } else {
                    const noMatch = document.createElement("p");
                    noMatch.textContent = "No matches found.";
                    resultsContainer.appendChild(noMatch);
                }
            });

            document.getElementById("matching-results").style.display = "block";
        });
    </script>
</body>
</html>
